@{
    ViewData["Title"] = "Home Page";

    Layout = null;

    string imageAddress = "/map.jpg";
    float mapWidth = 1500;
    float mapHeight = 897;
}

@* <div class="text-center"> *@
@*     $1$ <h1 class="display-4">Welcome</h1> #1# *@
@*     $1$ <h4 class="display-4">@User.Identity?.Name</h4> #1# *@
@*     $1$ <h4 class="display-4">@User.Identity?.AuthenticationType</h4> #1# *@
@*     $1$ <h4 class="display-4">@User.Identity?.IsAuthenticated</h4> #1# *@
@*     $1$ #1# *@
@*     $1$ @foreach (var claimsIdentity in User.Identities) #1# *@
@*     $1$ { #1# *@
@*     $1$     <h4 class="display-4">@claimsIdentity.Name</h4> #1# *@
@*     $1$     <h4 class="display-4">@claimsIdentity.AuthenticationType</h4> #1# *@
@*     $1$     <h4 class="display-4">@claimsIdentity.IsAuthenticated</h4> #1# *@
@*     $1$ } #1# *@
@* </div> *@

<!DOCTYPE html>
<html lang="en" class="fullscreen">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="~/js/map.js"></script>
    <script src="~/js/site.js"></script>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="~/css/site.css"/>
    <style>
        html, body {
            padding: 0;
            margin: 0;
        }
        .fullscreen {
            width: 100%;
            height: 100%;
            position: absolute;
        }
        #img{
            background: url(@imageAddress) no-repeat #222;
        }
        .side-menu{
            position: absolute;
            top: 10%;
            height: 80%;
            width: 10cm;
            background-color: white;
            border-bottom-right-radius: 2em;
            border-top-right-radius: 2em;
        }
        #pointsContainer {
            padding:  0.75cm;
            text-align: center;
        }
        .point {
            font-size: 0.8cm;
            font-family: Segoe UI;
        }
    </style>
</head>
<body class="fullscreen">
<div id="img" class="fullscreen"></div>
<canvas id="overlay" width="@mapWidth" height="@mapHeight" class="fullscreen"></canvas>
<div class="side-menu">
    <div id="pointsContainer"></div>
    <div class="form-group">
        <button id="routeReady" type="submit" class="btn btn-primary">Готов</button>
    </div>
</div>
<script>
    let imageWidth = @mapWidth;
    let imageHeight = @mapHeight;
    map(imageWidth, imageHeight);
    
    document.getElementById("routeReady").addEventListener("click", () => requestPrices());
   
    function requestPrices() {
        let points = GetPoints();
        if (points.length <= 2) {
            showError("Route cannot consist of less than 2 points");
            return;
        }
        
        for(let i = 0; i < points.length; i++) {
            console.log({latitude: points[i][0], longitude: points[i][1]})
        }
    }
    
    function convertArray(ar, converter) {
        let newAr = [];
        for (let i = 0; i < ar.length; i++) {
            
        }
    }
</script>
</body>
</html>